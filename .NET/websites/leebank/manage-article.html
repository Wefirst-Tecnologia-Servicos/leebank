<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Apophis Tecnologia & Arte Ltda.">

    <link href="plugin/bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="plugin/jquery/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="plugin/angularjs/angular.min.js"></script>
    <script type="text/javascript" src="plugin/angularjs/angular-locale_pt.js"></script>
    <script type="text/javascript"
        src="plugin/angularjs-currency-input-mask/dist/angularjs-currency-input-mask.min.js"></script>

    <link href="css/lee-learn/global.css" rel="stylesheet" />
    <link href="css/lee-learn/footer.css" rel="stylesheet" />
    <link href="css/lee-learn/menu.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/lee-learn/filter.css">
    <link rel="stylesheet" href="css/lee-learn/manage.css">
    <link rel="stylesheet" href="css/lee-learn/result.css">
    <link rel="stylesheet" href="css/lee-learn/search.css">
    <link rel="stylesheet" href="css/lee-learn/table.css">

    <script src="js/app/app.js"></script>
    <script src="js/app/dictionary.js"></script>
    <script src="js/app/email.js"></script>
    <script src="js/app/menu.js"></script>
    <script src="js/app/exchange.js"></script>

    <script src="js/component/menu.js"></script>
    <script src="js/component/footer.js"></script>

    <script src="js/global.js"></script>

</head>

<body ng-app="leebank" class="loading">

    <!--<menu-component></menu-component>-->

    <div class="menu">
        <div class="menu__logo"><a href="lee-learn.html"><img src="img/logo.svg" alt=""></a></div>
        <div>
            <ul class="menu__list">
                <li class="menu__items"><a href="lee-learn.html#highlithgs" class="menu__link">Destaques</a></li>
                <li class="menu__items"><a href="lee-learn.html#recent" class="menu__link">Mais Recentes</a></li>
                <li class="menu__items"><a href="lee-learn.html#topics" class="menu__link">Categorias</a></li>
                <li class="menu__items"><a href="manage-article.html" class="menu__link">Login</a></li>
            </ul>
        </div>
    </div>

    <div class="manage">
        <div class="manage__header">
            <div>
                <h3>Gerenciamento de Artigos</h3>
            </div>
            <div>
                <p>Gerencia os artigos do seu jeito, com as ferramentas disponíveis abaixo:</p>
            </div>

            <div><button class="manage__button">Filtros</button></div>
        </div>
        <div class="filter">
            <div class="filter__selectors">
                <div class="filter__box">
                    <p class="filter__text">Categoria</p>
                    <input type="text" class="filter__selector" id="categoria-filtro">
                </div>
                <div class="filter__box">
                    <p class="filter__text">Tag</p>
                    <select class="filter__selector" name="" id="tag-filter" onchange="criarTag()">
                        <option value="" hidden disabled selected>Escolha...</option>
                    </select>
                </div>
                <div class="filter__box">
                    <p class="filter__text">Data</p>
                    <input class="filter__selector" type="date" id="date-filter">
                </div>
            </div>
            <div class="result" id="tags-results">
                
            </div>
            <div class="filter__button-box">
                <button class="filter__button" onclick="filtrarArtigos()">Filtrar</button>
            </div>
        </div>

        <div class="search">
            <div><input class="search__input" type="" placeholder="Busca específica"></div>
            <div><button class="search__button" onclick="window.location.href='new-article.html'">Criar Artigo</button></div>
        </div>

        <div class="table">
            <div class="table__header">
                <div class="table__title">
                    <p>Título</p>
                </div>
                <div class="table__category">
                    <p>Categoria</p>
                </div>
                <div class="table__tag">
                    <p>Tag</p>
                </div>
                <div class="table__update">
                    <p>Última atualização</p>
                </div>
                <div class="table__space-button">
                    
                </div>
                <div class="table__space-button">
                    
                </div>
            </div>
            <div id="table-append">

            </div>
            <!--
            <div class="table__linha">
                <div class="table__title">
                    <p><b>Lorem ipsum dolor sit amet</b></p>
                    <p>Autor</p>
                </div>
                <div class="table__category">
                    <p>Categoria</p>
                </div>
                <div class="table__tag">
                    <p>Tag</p>
                </div>
                <div class="table__update">
                    <p>dd/mm/aaaa</p>
                </div>
                <div  class="table__space-button">
                    <button class="table__button" >Editar</button>
                </div>
                <div class="table__space-button">
                    <button class="table__button">Deletar</button>
                </div>
            </div>
            -->
        </div>

        <div class="footer">
            <div class="footer__info">
                <div class="footer__line">
                    <div class="footer__documents">
                        <div class="footer__policy">
                            <a>Políticas de Privacidade</a>
                        </div>
                        <div class="footer__terms">
                            <a>Termos de uso</a>
                        </div>
                    </div>
                </div>
                <div class="footer__copyrigth">
                    <p>© Lee Bank Instituição de Pagamento LTDA, 2022. Todos os direitos reservados.</p>
                </div>
            </div>
            <div class="footer__image">
                <img src="img/Group 16.svg" />
            </div>
        </div>
</body>

<script src="js/custom/articles/manageArticlePage-removeArticle.js"></script>
<script src="js/custom/topics/manageArticlePage-setTopics.js"></script>
<script src="js/custom/articles/manageArticlePage-setArticleData.js"></script>
<script src="js/custom/topics/getTopics.js"></script>
<script src="js/custom/articles/getArticles.js"></script>
<script src="js/custom/articles/filtrarArticles.js"></script>

<script>
    var tags = []

    function criarTag(){
        var selectedTag = document.getElementById('tag-filter').value

        if(!tags.includes(selectedTag)){
            tags.push(selectedTag)

            var fatherAppends = document.getElementById('tags-results')

            var resultBox = document.createElement('div')
            resultBox.setAttribute("class","result__box")
            resultBox.setAttribute("id","tag-selected-"+selectedTag.replace(/ /g,''))

            var resultBoxtext = document.createElement('p')
            resultBoxtext.setAttribute("class","result__text")
            resultBoxtext.innerHTML="<b>"+ selectedTag +"</b>"

            var resultBoxImage = document.createElement('img')
            resultBoxImage.setAttribute("class","result__img")
            resultBoxImage.setAttribute("src","img/x-button.svg")
            resultBoxImage.setAttribute("onclick","removeTag('"+selectedTag+"')")

            resultBox.appendChild(resultBoxtext)
            resultBox.appendChild(resultBoxImage)

            fatherAppends.appendChild(resultBox)
        }

        document.getElementById('tag-filter').value=""
    }

    function removeTag(tagName){
        if(tags.includes(tagName)){
            var index = tags.indexOf(tagName)
            tags.splice(index, 1);
            $('#tag-selected-' + tagName.replace(/ /g,'')).remove();
        }
    }

</script>